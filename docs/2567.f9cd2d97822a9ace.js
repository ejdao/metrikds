"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2567],{2567:(at,f,r)=>{r.r(f),r.d(f,{InterconsultasPendientesModule:()=>st});var c=r(4633),d=r(6895),g=r(4006),m=r(7518),l=r(5861),u=r(7155),Z=r(7810),p=r(3200),t=r(4650);class b{}let x=(()=>{class n{constructor(e){this._fetchInterconsultasPendientes=e}all(e){var i=this;return(0,l.Z)(function*(){try{const o=yield i._fetchInterconsultasPendientes.all(e);return p.HT.right(o)}catch(o){return p.HT.left(o)}})()}porEspecUsuAuth(e){var i=this;return(0,l.Z)(function*(){try{const o=yield i._fetchInterconsultasPendientes.porEspecialidadUsuarioAutenticado(e);return p.HT.right(o)}catch(o){return p.HT.left(o)}})()}observable(){return this._fetchInterconsultasPendientes.observable()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var O=r(1899),P=r(8753),T=r(9390),A=r(2923);function E(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",5),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(3);return t.KtG(o.open())}),t._UZ(1,"ion-icon",6),t.qZA()}}function y(n,s){if(1&n&&(t.TgZ(0,"ion-select-option",7),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.nombre," ")}}function N(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,E,2,0,"ion-button",1),t.TgZ(2,"ion-select",2,3),t.NdJ("ionChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectItem(o))}),t.YNc(4,y,2,2,"ion-select-option",4),t.qZA()()}if(2&n){const e=t.oxw();t.Udp("max-width",e.maxWidth,"px"),t.xp6(1),t.Q6J("ngIf","select"===e.type),t.xp6(1),t.Akn("select"===e.type?"display: none":""),t.xp6(2),t.Q6J("ngForOf",e.centrosSuggestions)}}let F=(()=>{class n{constructor(e,i){this._centrosStore=e,this._cd=i,this.type="select",this.hasDefaultValue=!0,this._centrosSuggestions=[{id:0,codigo:"000",nombre:"TODOS"}],this.onSelect=new t.vpe,this.maxWidth=0}ngOnInit(){var e=this;return(0,l.Z)(function*(){e.maxWidth||(e.maxWidth="menu"===e.type?40:200),yield e._centrosStore.autoInstance(),e._centrosStore.observable().subscribe(i=>{i.map(o=>e._centrosSuggestions.push(o))}),e._cd.markForCheck()})()}onSelectItem(e){e.detail.value&&this.onSelect.emit(e.detail.value)}get centrosSuggestions(){return this._centrosSuggestions}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.v),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["gcm-centros-suggestions"]],inputs:{type:"type",hasDefaultValue:"hasDefaultValue",maxWidth:"maxWidth"},outputs:{onSelect:"onSelect"},decls:1,vars:1,consts:[[3,"max-width",4,"ngIf"],[3,"click",4,"ngIf"],["label","Centro","cancelText","Cancelar",3,"ionChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"click"],["name","filter-outline"],[3,"value"]],template:function(e,i){1&e&&t.YNc(0,N,5,6,"div",0),2&e&&t.Q6J("ngIf",i.centrosSuggestions.length>2)},dependencies:[c.YG,c.gu,c.t9,c.n0,c.QI,d.sg,d.O5],encapsulation:2,changeDetection:0}),n})();var I=r(5575),q=r(6780);function D(n,s){if(1&n&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"Centro:"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",e.interconsulta.centro.nombre,"")}}function M(n,s){1&n&&t._UZ(0,"br")}function k(n,s){if(1&n&&(t.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title",1),t._uU(3),t.qZA(),t.TgZ(4,"ion-card-subtitle")(5,"div",2)(6,"span",2),t._uU(7),t.ALo(8,"formatDate"),t.qZA(),t._UZ(9,"br"),t._uU(10),t.ALo(11,"timeFromNow"),t.qZA()()(),t.TgZ(12,"ion-card-content",3)(13,"div",4),t._UZ(14,"ion-icon",5),t.TgZ(15,"div",6),t.YNc(16,D,4,1,"span",0),t.YNc(17,M,1,0,"br",0),t.TgZ(18,"span")(19,"b"),t._uU(20,"Documento:"),t.qZA(),t._uU(21),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"span")(24,"b"),t._uU(25,"Ingreso:"),t.qZA(),t._uU(26),t.qZA()()(),t.TgZ(27,"span",7),t._uU(28),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.interconsulta.paciente.nombreCompleto," "),t.xp6(4),t.hij(" ",t.xi3(8,13,e.interconsulta.folio.createdAt,6)," "),t.xp6(3),t.hij(" ",t.lcZ(11,16,e.interconsulta.folio.createdAt)," "),t.xp6(4),t.Akn(1===e.interconsulta.paciente.genero.type?"font-size: 35px; color : rgb(10, 161, 174);":"font-size: 35px; color : #ff627d;"),t.Q6J("name",1===e.interconsulta.paciente.genero.type?"man-outline":"woman-outline"),t.xp6(1),t.Akn(e.isMoreThanOneCentro?"":"margin-top: 6px;"),t.xp6(1),t.Q6J("ngIf",e.isMoreThanOneCentro),t.xp6(1),t.Q6J("ngIf",e.isMoreThanOneCentro),t.xp6(4),t.hij(" ",e.interconsulta.paciente.numeroDocumento,""),t.xp6(5),t.hij(" ",e.interconsulta.ingreso.consecutivo,""),t.xp6(2),t.Oqu(e.index)}}let w=(()=>{class n{constructor(e){this._href=e,this.isMoreThanOneCentro=!0,e.nativeElement.classList.add("gcm-interconsulta-card")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["gcm-interconsulta-card"]],inputs:{interconsulta:"interconsulta",isMoreThanOneCentro:"isMoreThanOneCentro",index:"index"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"card__title"],[1,"card__subtitle"],[1,"card__content"],[2,"display","flex","align-items","flex-start"],[3,"name"],[1,"overflow-ellipsis"],[1,"numeracion"]],template:function(e,i){1&e&&t.YNc(0,k,29,18,"ion-card",0),2&e&&t.Q6J("ngIf",i.interconsulta&&i.index)},dependencies:[c.PM,c.FN,c.Zi,c.tO,c.Dq,c.gu,d.O5,I.Z,q.S],encapsulation:2,changeDetection:0}),n})();function J(n,s){if(1&n&&(t.TgZ(0,"div")(1,"span")(2,"b"),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t._UZ(5,"br"),t.qZA()),2&n){const e=s.$implicit;t.xp6(3),t.Oqu(e.rows.length),t.xp6(1),t.hij(" - ",e.name," ")}}function Y(n,s){if(1&n&&(t.TgZ(0,"div",5),t.YNc(1,J,6,2,"div",6),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.groupedByCentro)}}function j(n,s){if(1&n&&(t.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title",1),t._uU(3),t.qZA()(),t.TgZ(4,"ion-card-content",2)(5,"span"),t._uU(6),t.qZA(),t.YNc(7,Y,2,1,"div",3),t.TgZ(8,"span",4),t._uU(9),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.especialidad.key," "),t.xp6(3),t.hij("",e.especialidad.rows.length," interconsultas"),t.xp6(1),t.Q6J("ngIf",e.isMoreThanOneCentro),t.xp6(2),t.Oqu(e.index)}}let B=(()=>{class n{constructor(e,i){this._href=e,this._cd=i,this.isMoreThanOneCentro=!0,this.groupedByCentro=[],e.nativeElement.classList.add("gcm-especialidad-card")}ngOnInit(){this.especialidad&&(this.groupedByCentro=(0,p.v1)(this.especialidad.rows,"nombreCentro"),this._cd.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["gcm-especialidad-card"]],inputs:{especialidad:"especialidad",isMoreThanOneCentro:"isMoreThanOneCentro",index:"index"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"card__title"],[1,"card__content"],["style","margin-top: 5px",4,"ngIf"],[1,"numeracion"],[2,"margin-top","5px"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&t.YNc(0,j,10,4,"ion-card",0),2&e&&t.Q6J("ngIf",i.especialidad&&i.index)},dependencies:[c.PM,c.FN,c.Zi,c.Dq,d.sg,d.O5],encapsulation:2,changeDetection:0}),n})();function Q(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clickOnGoupByEspecialidad())}),t._UZ(1,"ion-icon",13),t.qZA()}}function L(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.especialidadActual)}}function G(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"gcm-centros-suggestions",14),t.NdJ("onSelect",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectCentro(o))}),t.qZA()}}function H(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"gcm-interconsulta-card",16),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,_=o.index,h=t.oxw(2);return t.KtG(h.clickOnInterconsulta(a,_))}),t.qZA()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(2);t.Q6J("isMoreThanOneCentro",o.isMoreThanOneCentro)("interconsulta",e)("index",i+1)}}function z(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,H,1,3,"gcm-interconsulta-card",15),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.dataSourceInterconsultas.filteredData)}}function R(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"gcm-especialidad-card",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.clickOnEspecialidad(a))}),t.qZA()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(2);t.Q6J("isMoreThanOneCentro",o.isMoreThanOneCentro)("especialidad",e)("index",i+1)}}function $(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,R,1,3,"gcm-especialidad-card",17),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.dataSourceEspecialidades.filteredData)}}function V(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clickOnLastInteconsulta())}),t._UZ(1,"ion-icon",13),t.qZA()}}function K(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clickOnNextInteconsulta())}),t._UZ(1,"ion-icon",24),t.qZA()}}function W(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",2),t.YNc(5,V,2,0,"ion-button",3),t.qZA(),t.TgZ(6,"ion-buttons",7),t.YNc(7,K,2,0,"ion-button",3),t.TgZ(8,"ion-button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isModalOpen=!1)}),t._UZ(9,"ion-icon",20),t.qZA()()()(),t.TgZ(10,"ion-content",21)(11,"div")(12,"span",22),t._uU(13),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"b"),t._uU(16,"Historia: "),t.qZA(),t._uU(17),t._UZ(18,"br"),t.TgZ(19,"b"),t._uU(20,"Genero: "),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"div",23)(23,"b"),t._uU(24,"Ingreso:"),t.qZA(),t._uU(25),t._UZ(26,"br"),t.TgZ(27,"b"),t._uU(28,"Consecutivo:"),t.qZA(),t._uU(29),t._UZ(30,"br"),t.TgZ(31,"b"),t._uU(32,"Solicitud:"),t.qZA(),t._uU(33),t.ALo(34,"formatDate"),t._UZ(35,"br"),t.TgZ(36,"b"),t._uU(37,"Cama:"),t.qZA(),t._uU(38),t._UZ(39,"br"),t.TgZ(40,"b"),t._uU(41,"Ubicaci\xf3n:"),t.qZA(),t.TgZ(42,"h6"),t._uU(43),t.qZA(),t.TgZ(44,"b"),t._uU(45,"Diagn\xf3stico:"),t.qZA(),t.TgZ(46,"h6"),t._uU(47),t.qZA(),t.TgZ(48,"b"),t._uU(49,"Especialidad:"),t.qZA(),t.TgZ(50,"h6"),t._uU(51),t.qZA(),t.TgZ(52,"b"),t._uU(53,"Area de servicio solicitante:"),t.qZA(),t.TgZ(54,"h6"),t._uU(55),t.qZA(),t.TgZ(56,"b"),t._uU(57,"Motivo de consulta:"),t.qZA(),t.TgZ(58,"h6"),t._uU(59),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.AsE(" ",e.interconsultaActual.i+1," de ",e.dataSourceInterconsultas.filteredData.length," "),t.xp6(2),t.Q6J("ngIf",e.interconsultaActual.i>0),t.xp6(2),t.Q6J("ngIf",e.dataSourceInterconsultas.filteredData.length>e.interconsultaActual.i+1),t.xp6(6),t.hij(" ",e.interconsultaActual.data.paciente.nombreCompleto," "),t.xp6(4),t.hij(" ",e.interconsultaActual.data.folio.id," "),t.xp6(4),t.hij(" ",e.interconsultaActual.data.paciente.genero.forHumans," "),t.xp6(4),t.hij(" ",e.interconsultaActual.data.ingreso.consecutivo," "),t.xp6(4),t.hij(" ",e.interconsultaActual.data.id," "),t.xp6(4),t.hij(" ",t.xi3(34,17,e.interconsultaActual.data.folio.createdAt,3)," "),t.xp6(5),t.hij(" ",e.interconsultaActual.data.cama.codigo," "),t.xp6(5),t.Oqu(e.interconsultaActual.data.cama.nombre),t.xp6(4),t.AsE(" ",e.interconsultaActual.data.diagnostico.codigo||"?????"," - ",e.interconsultaActual.data.diagnostico.nombre||"??????????????"," "),t.xp6(4),t.Oqu(e.interconsultaActual.data.especialidad.nombre),t.xp6(4),t.Oqu(e.interconsultaActual.data.cama.subgrupo.nombre),t.xp6(4),t.Oqu(e.interconsultaActual.data.motivoConsulta)}}const X=[{path:"",component:(()=>{class n{constructor(e,i,o,a,_,h){this._fetchInterconsultasPendientes=e,this._ionicLoading=i,this._sessionStore=o,this._centrosStore=a,this._timer=_,this._cd=h,this.dataSourceEspecialidades=new u.by([]),this.dataSourceInterconsultas=new u.by([]),this.interconsultasStored=[],this.groupedByEspecialidad=!1,this.isModalOpen=!1,this.isMoreThanOneCentro=void 0,this.filter=new g.NI(""),this.especialidadActual="",this.centroActual="TODOS",this._lastUpdate=null,this._canSeeAllIC=!1}ngOnInit(){var e=this;return(0,l.Z)(function*(){e._sessionStore.observable().subscribe(a=>{a.authorities.includes(Z.Rb.ADMINISTRADOR)&&(e._canSeeAllIC=!0)}).unsubscribe(),yield e._centrosStore.autoInstance(),e._centrosStore.observable().subscribe(a=>{e.isMoreThanOneCentro=a.length>1}).unsubscribe(),yield e._findData()})()}onSelectCentro(e){e&&(this.filter.setValue(""),this.centroActual=e.nombre,this.groupedByEspecialidad?this._instanceDataSourceEspecialidades(e.id?this.interconsultasStored.filter(i=>i.centro.id===e.id):this.interconsultasStored):1===this.dataSourceEspecialidades.data.length&&this._instanceDataSourceInterconsultas(e.id?this.interconsultasStored.filter(i=>i.centro.id===e.id):this.interconsultasStored))}ionViewDidEnter(){this._filterSubscription=this.filter.valueChanges.subscribe(e=>{this.groupedByEspecialidad?this.dataSourceEspecialidades.filter=(e||"").trim().toLowerCase():this.dataSourceInterconsultas.filter=(e||"").trim().toLowerCase()}),this._subscription=this._fetchInterconsultasPendientes.observable().subscribe(e=>{this._lastUpdate=e.lastUpdate,this.dataSourceInterconsultas=new u.by(e.data),this.interconsultasStored=this.dataSourceInterconsultas.data,this._instanceDataSourceEspecialidades(e.data),this.especialidadActual=this._canSeeAllIC?"TODAS":this.dataSourceEspecialidades.data.length?this.dataSourceEspecialidades.data[0].name:"NINGUNA INTERCONSULTA PENDIENTE",setTimeout(()=>{this._cd.markForCheck()},1e3)})}clickOnRefresh(){var e=this;return(0,l.Z)(function*(){yield e._findData(!0)})()}clickOnGoupByEspecialidad(){this.filter.setValue(""),this.groupedByEspecialidad=!this.groupedByEspecialidad}clickOnInterconsulta(e,i){var o=this;return(0,l.Z)(function*(){o.isModalOpen=!0,o.interconsultaActual={data:e,i}})()}clickOnNextInteconsulta(){this.interconsultaActual={data:this.dataSourceInterconsultas.filteredData[this.interconsultaActual.i+1],i:this.interconsultaActual.i+1},this._cd.markForCheck()}clickOnLastInteconsulta(){this.interconsultaActual={data:this.dataSourceInterconsultas.filteredData[this.interconsultaActual.i-1],i:this.interconsultaActual.i-1},this._cd.markForCheck()}clickOnEspecialidad(e){var i=this;return(0,l.Z)(function*(){i.especialidadActual=e.name,i.dataSourceInterconsultas=new u.by(e.rows),i.groupedByEspecialidad=!1})()}_findData(e=!1){var i=this;return(0,l.Z)(function*(){let o;yield i._ionicLoading.show("interconsultas pendientes"),o=i._canSeeAllIC?yield i._fetchInterconsultasPendientes.all(e):yield i._fetchInterconsultasPendientes.porEspecUsuAuth(e),o.fold({left:a=>{console.log(a)}}),i._ionicLoading.remove()})()}_instanceDataSourceEspecialidades(e){this.dataSourceEspecialidades=new u.by((0,p.v1)(e,"nombreEspecialidad")),this._cd.markForCheck()}_instanceDataSourceInterconsultas(e){this.dataSourceInterconsultas=new u.by(e),this._cd.markForCheck()}ionViewDidLeave(){this._filterSubscription&&this._filterSubscription.unsubscribe(),this._subscription&&this._subscription.unsubscribe()}get lastUpdate(){return`ULTIMA ACTUALIZACI\xd3N A LAS ${this._timer.formatDate(this._lastUpdate,10)}`.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x),t.Y36(O.b),t.Y36(P.pG),t.Y36(T.v),t.Y36(A.fW),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["gcm-interconsultas-pendientes"]],decls:30,vars:13,consts:[[1,"tab-container","ion-padding"],[1,"tab-content"],["slot","start"],[3,"click",4,"ngIf"],[1,"overflow-ellipsis",2,"font-size","12px"],[4,"ngIf"],[2,"font-size","10px"],["slot","end"],[3,"onSelect",4,"ngIf"],[3,"click"],["name","refresh-outline"],["animated","true","placeholder","Buscar",3,"formControl"],[3,"isOpen","backdropDismiss"],["name","arrow-back-outline"],[3,"onSelect"],[3,"isMoreThanOneCentro","interconsulta","index","click",4,"ngFor","ngForOf"],[3,"isMoreThanOneCentro","interconsulta","index","click"],[3,"isMoreThanOneCentro","especialidad","index","click",4,"ngFor","ngForOf"],[3,"isMoreThanOneCentro","especialidad","index","click"],["color","danger",3,"click"],["name","close-outline"],[1,"ion-padding"],[1,"cl-gray"],[1,"detalle-interconsulta"],["name","arrow-forward-outline"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"section",1)(2,"ion-toolbar")(3,"ion-buttons",2),t.YNc(4,Q,2,0,"ion-button",3),t.qZA(),t.TgZ(5,"ion-label")(6,"b"),t._uU(7),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"div",4),t.YNc(10,L,2,1,"span",5),t._uU(11),t.TgZ(12,"span"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"span",6),t._uU(16),t.qZA(),t._UZ(17,"br")(18,"br"),t.qZA()(),t.TgZ(19,"ion-buttons",7),t.YNc(20,G,1,0,"gcm-centros-suggestions",8),t.TgZ(21,"ion-button",9),t.NdJ("click",function(){return i.clickOnRefresh()}),t._UZ(22,"ion-icon",10),t.qZA()()(),t.TgZ(23,"ion-item"),t._UZ(24,"ion-searchbar",11),t.qZA()()(),t.TgZ(25,"ion-content"),t.YNc(26,z,2,1,"div",5),t.YNc(27,$,2,1,"div",5),t.qZA(),t.TgZ(28,"ion-modal",12),t.YNc(29,W,60,20,"ng-template"),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",!i.groupedByEspecialidad&&i.dataSourceEspecialidades.data.length>1),t.xp6(3),t.AsE(" ",i.groupedByEspecialidad?i.dataSourceEspecialidades.data.length:i.dataSourceInterconsultas.data.length," ",i.groupedByEspecialidad?"ESPECIALIDADES":"INTERCONSULTAS"," "),t.xp6(3),t.Q6J("ngIf",!i.groupedByEspecialidad),t.xp6(1),t.hij(" "," "," "),t.xp6(2),t.hij("(",i.centroActual,")"),t.xp6(3),t.Oqu(i.lastUpdate),t.xp6(4),t.Q6J("ngIf",i.groupedByEspecialidad||1===i.dataSourceEspecialidades.data.length),t.xp6(4),t.Q6J("formControl",i.filter),t.xp6(2),t.Q6J("ngIf",!i.groupedByEspecialidad&&void 0!==i.isMoreThanOneCentro),t.xp6(1),t.Q6J("ngIf",i.groupedByEspecialidad&&void 0!==i.isMoreThanOneCentro),t.xp6(1),t.Q6J("isOpen",i.isModalOpen)("backdropDismiss",!1))},dependencies:[c.YG,c.Sm,c.W2,c.Gu,c.gu,c.Ie,c.Q$,c.VI,c.wd,c.sr,c.ki,c.j9,d.sg,d.O5,g.JJ,g.oH,F,w,B,I.Z],styles:[".detalle-interconsulta h6{margin:0}.card__title{font-size:14px}.card__title>span{font-size:12px;display:block}.card__subtitle{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card__subtitle__state-bubble{border-radius:25px;width:15px;height:15px;margin-right:10px;float:left}.card__content{margin-top:-15px;font-size:12px;line-height:12px!important}.card__content .numeracion{float:right;font-size:9px;color:#c7bdbd}\n"],encapsulation:2,changeDetection:0}),n})()}];let tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(X),m.Bz]}),n})();const C_V3_INTERCONSULTAS=`${Z.uj}/v3/interconsultas`;var et=r(1135),v=r(3905),S=r(4004),U=r(8505);let nt=(()=>{class n extends A.OE{constructor(){super(...arguments),this._subject=new et.X({data:[],lastUpdate:null}),this._observable$=this._subject.asObservable()}all(e){var i=this;return(0,l.Z)(function*(){return!e&&i._subject.value.lastUpdate?i._subject.value.data:(0,v.z)(i._http.get(`${C_V3_INTERCONSULTAS}/pendientes`).pipe((0,S.U)(o=>(o.map(a=>{a.nombreEspecialidad=a.especialidad.nombre,a.idCentro=a.centro.id,a.nombreCentro=a.centro.nombre,a.folio.createdAt=new Date(a.folio.createdAt)}),o)),(0,U.b)(o=>{i._subject.next({data:o,lastUpdate:new Date})})))})()}porEspecialidadUsuarioAutenticado(e){var i=this;return(0,l.Z)(function*(){return!e&&i._subject.value.lastUpdate?i._subject.value.data:(0,v.z)(i._http.get(`${C_V3_INTERCONSULTAS}/pendientes-by-especialidad`).pipe((0,S.U)(o=>(o.map(a=>{a.nombreEspecialidad=a.especialidad.nombre,a.folio.createdAt=new Date(a.folio.createdAt)}),o)),(0,U.b)(o=>{i._subject.next({data:o,lastUpdate:new Date})})))})()}observable(){return this._observable$}}return n.\u0275fac=function(){let s;return function(i){return(s||(s=t.n5z(n)))(i||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var it=r(7329),ot=r(9215);let st=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[x,{provide:b,useClass:nt}],imports:[c.Pc,d.ez,ot.D,g.UX,it.U,tt]}),n})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7028],{7028:(G,g,r)=>{r.r(g),r.d(g,{AdministrarGestionesModule:()=>T});var p=r(6895),f=r(7518),m=r(5861),h=r(7155),d=r(4006);const _=new d.NI("");new d.NI("");var t=r(4650),A=r(7283),b=r(2216),Z=r(1899),o=r(4633);function v(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ion-card",5),t.NdJ("click",function(){const a=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.clickOnToggleModal(a))}),t.TgZ(1,"ion-card-header")(2,"ion-card-title",10),t._uU(3),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"ion-card-subtitle")(7,"div",11),t._UZ(8,"div"),t.TgZ(9,"span",11),t._uU(10),t.qZA(),t._UZ(11,"br"),t._uU(12),t.qZA()()(),t.TgZ(13,"ion-card-content",12),t._uU(14),t._UZ(15,"br"),t.TgZ(16,"span")(17,"b"),t._uU(18,"Estado:"),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"span",13),t._uU(21),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(3),t.hij(" ",e.nombreCompletoPaciente," "),t.xp6(2),t.AsE("(Doc.",e.numeroDocumentoPaciente,") (Ingr. ",e.consecutivo,")"),t.xp6(3),t.Gre("card__subtitle__state-bubble priority-",e.prioridadCssClass,""),t.xp6(2),t.hij(" ",e.tipoForHumans," "),t.xp6(2),t.AsE(" ",e.codigo," (PRIORIDAD ",e.prioridadForHumans,") "),t.xp6(2),t.hij(" ",e.contenido,""),t.xp6(5),t.hij(" ",e.estadoForHumans,""),t.xp6(2),t.Oqu(n+1)}}const x=[{path:"",component:(()=>{class i{constructor(e,n,l,a,u){this._gestionesCrud=e,this._manageAreas=n,this._loadingService=l,this._href=a,this._cd=u,this.dataSource=new h.by([]),this.filter=new d.NI(""),this._dataStored=[],a.nativeElement.classList.add("gcm-administrar-gestiones")}ionViewDidEnter(){var e=this;return(0,m.Z)(function*(){yield e._findData(!0),e._filterSubscription=e.filter.valueChanges.subscribe(n=>{e.dataSource.filter=(n||"").trim().toLowerCase()})})()}clickOnRefresh(){var e=this;return(0,m.Z)(function*(){yield e._findData(!0)})()}clickOnToggleModal(e){return(0,m.Z)(function*(){})()}_findData(e=!1){var n=this;return(0,m.Z)(function*(){yield n._loadingService.show();const l=yield n._manageAreas.fetchAreasUsuarioAutenticado(),a=[];l.fold({right:c=>{a.push(...c)}}),(yield n._gestionesCrud.fetchByAreas(a.map(c=>c.area),e)).fold({right:c=>{n._dataStored=c,n._instanceDataSource(_.value?c.filter(S=>S.tipoForHumans===_.value):c)},left:()=>{n._cd.markForCheck()}}),n._loadingService.remove()})()}_instanceDataSource(e){this.dataSource=new h.by(e),this._cd.markForCheck()}ionViewDidLeave(){this._filterSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.x),t.Y36(b._),t.Y36(Z.b),t.Y36(t.SBq),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["gcm-administrar-gestiones"]],decls:16,vars:3,consts:[[1,"tab-container","ion-padding"],[1,"tab-content"],["slot","start"],["name","add-outline"],["slot","end"],[3,"click"],["name","refresh-outline"],["animated","true","placeholder","Buscar",3,"formControl"],[1,"ion-padding"],[3,"click",4,"ngFor","ngForOf"],[1,"card__title"],[1,"card__subtitle"],[1,"card__content"],[1,"numeracion"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"section",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button"),t._UZ(5,"ion-icon",3),t.qZA()(),t.TgZ(6,"ion-label")(7,"b"),t._uU(8),t.qZA()(),t.TgZ(9,"ion-buttons",4)(10,"ion-button",5),t.NdJ("click",function(){return n.clickOnRefresh()}),t._UZ(11,"ion-icon",6),t.qZA()()(),t.TgZ(12,"ion-item"),t._UZ(13,"ion-searchbar",7),t.qZA()()(),t.TgZ(14,"ion-content",8),t.YNc(15,v,22,12,"ion-card",9),t.qZA()),2&e&&(t.xp6(8),t.hij("",n.dataSource.data.length," GESTIONES"),t.xp6(5),t.Q6J("formControl",n.filter),t.xp6(2),t.Q6J("ngForOf",n.dataSource.filteredData))},dependencies:[p.sg,d.JJ,d.oH,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.tO,o.Dq,o.W2,o.gu,o.Ie,o.Q$,o.VI,o.sr,o.j9],styles:[".gcm-administrar-gestiones section .button-refresh{display:flex;float:right;white-space:nowrap}.gcm-administrar-gestiones section .filter-button{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row-reverse}.gcm-administrar-gestiones section .filter-button gcm-filter-field{width:100%}.gcm-administrar-gestiones section .filter-button ion-buttons{margin-left:-12px}.gcm-administrar-gestiones .header__subtitle{font-weight:500;color:var(--black-degraded)}.gcm-administrar-gestiones .card__title{font-size:14px}.gcm-administrar-gestiones .card__title>span{font-size:12px;display:block}.gcm-administrar-gestiones .card__subtitle{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gcm-administrar-gestiones .card__subtitle__state-bubble{border-radius:25px;width:15px;height:15px;margin-right:10px;float:left}.gcm-administrar-gestiones .card__content{margin-top:-15px;font-size:12px;line-height:12px!important}.gcm-administrar-gestiones .card__content .numeracion{float:right;font-size:9px;color:#c7bdbd}.gcm-administrar-gestiones .modal-template{--backdrop-opacity: 0 !important;z-index:700!important}.dark-theme .gestiones-catalog-mobile .header__subtitle{font-weight:500;color:var(--white)}.z-index-997{z-index:997!important}\n"],encapsulation:2,changeDetection:0}),i})()}];let y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[f.Bz.forChild(x),f.Bz]}),i})(),T=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.ez,d.UX,o.Pc,y]}),i})()}}]);